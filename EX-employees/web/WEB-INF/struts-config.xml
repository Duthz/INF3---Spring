<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://jakarta.apache.org/struts/dtds/struts-config_1_3.dtd">


<struts-config>
    <form-beans>
    <form-bean name="loginForm" type="com.myapp.struts.formbean.LoginForm" />
    <form-bean name="employeForm" type="com.myapp.struts.formbean.EmployeForm" />
    </form-beans>
    
    <global-exceptions>
    
    </global-exceptions>

    <global-forwards>
        <forward name="login" path="tile.Login"/>
    </global-forwards>

    <action-mappings>
        
    <action path="/index" type="org.apache.struts.actions.ForwardAction"
        parameter="tile.Login" />
    
    <action path="/addemploye" type="org.apache.struts.actions.ForwardAction"
        parameter="tile.AddEmployee" />
    
    <action path="/Login"
      type="com.myapp.struts.action.LoginAction"
      validate="true"
      input="tile.Login"
      name="loginForm"
      scope="request" >
      <forward name="success" path="/EmployeListe.do"/>
    </action>

    <action path="/EmployeListe"
      type="com.myapp.struts.action.EmployeListeAction"
      scope="request" >
      <forward name="success" path="tile.ListEmployee"/>
    </action>

    <action path="/Add"
      type="com.myapp.struts.action.AddEmployeAction"
      name="employeForm"
      scope="request"
      input="tile.AddEmployee"
      validate="true" >
      <set-property property="cancellable" value="true"/>
      <forward name="success" path="/EmployeListe.do"/>
      <forward name="error" path="tile.AddEmployee"/>
    </action>

    <action path="/Edit"
      type="com.myapp.struts.action.GetEmployeAction"
      name="employeForm"
      scope="request"
      validate="false" >
      <forward name="success" path="tile.EditEmployee"/>
      <forward name="error" path="/EmployeListe.do"/>
    </action>

    <action path="/EditEmploye"
      type="com.myapp.struts.action.EditEmployeAction"
      name="employeForm"
      scope="request"
      input="tile.EditEmployee"
      validate="true" >
      <set-property property="cancellable" value="true"/>
      <forward name="success" path="/EmployeListe.do"/>
      <forward name="error" path="tile.EditEmployee"/>
    </action>

    <action path="/Delete"
      type="com.myapp.struts.action.DeleteEmployeAction"
      scope="request"
      validate="false" >
      <forward name="success" path="/EmployeListe.do"/>
      <forward name="error" path="/EmployeListe.do"/>
    </action>

    </action-mappings>
   
   <!-- controller Tiles -->
    <controller processorClass="org.apache.struts.tiles.TilesRequestProcessor"/>

    <message-resources parameter="com/myapp/struts/ApplicationResources"/>    
    

    <!--PlugIn Tiles -->
    <plug-in className="org.apache.struts.tiles.TilesPlugin" >
        <set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />      
        <set-property property="moduleAware" value="true" />
    </plug-in>
    
    <!-- PlugIn Spring -->
    <plug-in className="org.springframework.web.struts.ContextLoaderPlugIn" >
        <set-property property="contextConfigLocation" value="/WEB-INF/action-servlet.xml" />
    </plug-in>
  
</struts-config>
